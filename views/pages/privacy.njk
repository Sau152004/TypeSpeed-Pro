{% extends "layouts/main.njk" %}

{% block title %}Privacy Policy - TypeSpeed Pro{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto space-y-8">
    <!-- Header -->
    <div class="text-center py-12">
        <h1 class="text-4xl md:text-6xl font-bold mb-4">
            Privacy <span class="text-primary-600">Policy</span>
        </h1>
        <p class="text-xl text-gray-600 dark:text-gray-300 mb-8 max-w-3xl mx-auto">
            We are committed to protecting your privacy and being transparent about how we collect, use, and protect your information.
        </p>
        <div class="text-sm text-gray-500 dark:text-gray-400">
            Last updated: <time datetime="2024-01-15">January 15, 2024</time>
        </div>
    </div>

    <!-- Quick Summary -->
    <div class="bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-xl p-8">
        <h2 class="text-2xl font-bold mb-4 text-blue-700 dark:text-blue-300">Privacy at a Glance</h2>
        <div class="grid md:grid-cols-3 gap-6">
            <div class="text-center">
                <div class="text-3xl mb-2">üîí</div>
                <h3 class="font-semibold mb-2">Your Data is Secure</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">We use industry-standard encryption and security measures to protect your information.</p>
            </div>
            <div class="text-center">
                <div class="text-3xl mb-2">üö´</div>
                <h3 class="font-semibold mb-2">We Don't Sell Data</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">Your personal information is never sold to third parties for marketing purposes.</p>
            </div>
            <div class="text-center">
                <div class="text-3xl mb-2">‚úÖ</div>
                <h3 class="font-semibold mb-2">You Have Control</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">You can access, modify, or delete your data at any time through your account settings.</p>
            </div>
        </div>
    </div>

    <!-- Table of Contents -->
    <div class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-2xl font-bold mb-6">Table of Contents</h2>
        <div class="grid md:grid-cols-2 gap-4">
            <div class="space-y-2">
                <a href="#information-we-collect" class="block text-primary-600 hover:underline">1. Information We Collect</a>
                <a href="#how-we-use" class="block text-primary-600 hover:underline">2. How We Use Your Information</a>
                <a href="#information-sharing" class="block text-primary-600 hover:underline">3. Information Sharing</a>
                <a href="#data-security" class="block text-primary-600 hover:underline">4. Data Security</a>
            </div>
            <div class="space-y-2">
                <a href="#your-rights" class="block text-primary-600 hover:underline">5. Your Privacy Rights</a>
                <a href="#cookies" class="block text-primary-600 hover:underline">6. Cookies and Tracking</a>
                <a href="#children" class="block text-primary-600 hover:underline">7. Children's Privacy</a>
                <a href="#contact-us" class="block text-primary-600 hover:underline">8. Contact Us</a>
            </div>
        </div>
    </div>

    <!-- Section 1: Information We Collect -->
    <section id="information-we-collect" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">1. Information We Collect</h2>
        
        <div class="space-y-6">
            <div>
                <h3 class="text-xl font-semibold mb-4 text-green-600">Information You Provide Directly</h3>
                <div class="bg-green-50 dark:bg-green-900 dark:bg-opacity-20 rounded-lg p-6">
                    <h4 class="font-semibold mb-3">Account Information:</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 mb-4">
                        <li>Email address (required for account creation)</li>
                        <li>Username and display name</li>
                        <li>Password (encrypted and never stored in plain text)</li>
                        <li>Profile preferences and settings</li>
                    </ul>
                    
                    <h4 class="font-semibold mb-3">Typing Test Data:</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300">
                        <li>Typing speed (WPM) and accuracy results</li>
                        <li>Test completion times and dates</li>
                        <li>Exercise preferences and progress</li>
                        <li>Personal goals and milestones</li>
                    </ul>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-semibold mb-4 text-blue-600">Information Collected Automatically</h3>
                <div class="bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg p-6">
                    <h4 class="font-semibold mb-3">Usage Analytics:</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300 mb-4">
                        <li>Pages visited and time spent on our platform</li>
                        <li>Features used and interaction patterns</li>
                        <li>Device type, browser, and operating system</li>
                        <li>IP address and general location (city/country level)</li>
                    </ul>
                    
                    <h4 class="font-semibold mb-3">Technical Information:</h4>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300">
                        <li>Browser type and version</li>
                        <li>Screen resolution and device capabilities</li>
                        <li>Keyboard layout and input method</li>
                        <li>Error logs and performance metrics</li>
                    </ul>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-semibold mb-4 text-purple-600">Information We Don't Collect</h3>
                <div class="bg-purple-50 dark:bg-purple-900 dark:bg-opacity-20 rounded-lg p-6">
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300">
                        <li>We do not record or store the actual text you type during practice</li>
                        <li>We do not collect sensitive personal information (SSN, payment details, etc.)</li>
                        <li>We do not track your browsing activity on other websites</li>
                        <li>We do not access your device's contacts, files, or other applications</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 2: How We Use Information -->
    <section id="how-we-use" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">2. How We Use Your Information</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-xl font-semibold mb-4 text-green-600">To Provide Our Services</h3>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Create and maintain your account</span>
                    </li>
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Track your typing progress and statistics</span>
                    </li>
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Personalize your learning experience</span>
                    </li>
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-green-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Generate leaderboards and rankings</span>
                    </li>
                </ul>
            </div>
            
            <div>
                <h3 class="text-xl font-semibold mb-4 text-blue-600">To Improve Our Platform</h3>
                <ul class="space-y-3">
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Analyze usage patterns to enhance features</span>
                    </li>
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Fix bugs and technical issues</span>
                    </li>
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Develop new exercises and content</span>
                    </li>
                    <li class="flex items-start">
                        <span class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"></span>
                        <span class="text-gray-600 dark:text-gray-300">Optimize performance and speed</span>
                    </li>
                </ul>
            </div>
        </div>

        <div class="mt-8">
            <h3 class="text-xl font-semibold mb-4 text-orange-600">Communication</h3>
            <div class="bg-orange-50 dark:bg-orange-900 dark:bg-opacity-20 rounded-lg p-6">
                <p class="text-gray-600 dark:text-gray-300 mb-3">We may use your email address to send you:</p>
                <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300">
                    <li>Account verification and security notifications</li>
                    <li>Important updates about our service</li>
                    <li>Monthly progress reports (if you opt-in)</li>
                    <li>Educational content and typing tips (if you opt-in)</li>
                </ul>
                <p class="text-sm text-gray-500 dark:text-gray-400 mt-3">
                    You can unsubscribe from marketing emails at any time using the link in each email or through your account settings.
                </p>
            </div>
        </div>
    </section>

    <!-- Section 3: Information Sharing -->
    <section id="information-sharing" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">3. Information Sharing and Disclosure</h2>
        
        <div class="space-y-6">
            <div class="bg-red-50 dark:bg-red-900 dark:bg-opacity-20 rounded-lg p-6 border-l-4 border-red-500">
                <h3 class="text-xl font-semibold mb-3 text-red-600">We Do Not Sell Your Data</h3>
                <p class="text-gray-600 dark:text-gray-300">
                    TypeSpeed Pro does not sell, rent, or trade your personal information to third parties for marketing purposes. Your data remains yours.
                </p>
            </div>

            <div>
                <h3 class="text-xl font-semibold mb-4">Limited Sharing Scenarios</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
                        <h4 class="font-semibold mb-2 text-blue-600">Service Providers</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                            We may share limited data with trusted service providers who help us operate our platform:
                        </p>
                        <ul class="text-xs text-gray-500 dark:text-gray-400 space-y-1">
                            <li>‚Ä¢ Cloud hosting providers (AWS, Google Cloud)</li>
                            <li>‚Ä¢ Analytics services (Google Analytics)</li>
                            <li>‚Ä¢ Email service providers</li>
                            <li>‚Ä¢ Security and monitoring services</li>
                        </ul>
                    </div>
                    
                    <div class="border border-gray-200 dark:border-gray-600 rounded-lg p-4">
                        <h4 class="font-semibold mb-2 text-purple-600">Legal Requirements</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300 mb-2">
                            We may disclose information if required by law or to:
                        </p>
                        <ul class="text-xs text-gray-500 dark:text-gray-400 space-y-1">
                            <li>‚Ä¢ Comply with legal process or government requests</li>
                            <li>‚Ä¢ Protect our rights and safety</li>
                            <li>‚Ä¢ Prevent fraud or abuse</li>
                            <li>‚Ä¢ Protect user safety</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-semibold mb-4">Public Information</h3>
                <div class="bg-yellow-50 dark:bg-yellow-900 dark:bg-opacity-20 rounded-lg p-6">
                    <p class="text-gray-600 dark:text-gray-300 mb-3">
                        Some information may be publicly visible if you choose to participate in:
                    </p>
                    <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300">
                        <li><strong>Leaderboards:</strong> Your username and typing scores</li>
                        <li><strong>Community features:</strong> Public profile information you choose to share</li>
                        <li><strong>Competitions:</strong> Performance results and rankings</li>
                    </ul>
                    <p class="text-sm text-gray-500 dark:text-gray-400 mt-3">
                        You can control your privacy settings and opt out of public features at any time.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 4: Data Security -->
    <section id="data-security" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">4. Data Security</h2>
        
        <div class="grid md:grid-cols-3 gap-6 mb-8">
            <div class="text-center p-6 bg-green-50 dark:bg-green-900 dark:bg-opacity-20 rounded-lg">
                <div class="text-3xl mb-3">üîê</div>
                <h3 class="font-semibold mb-2">Encryption</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">All data transmitted to and from our servers is encrypted using TLS 1.3</p>
            </div>
            <div class="text-center p-6 bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg">
                <div class="text-3xl mb-3">üõ°Ô∏è</div>
                <h3 class="font-semibold mb-2">Secure Storage</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">Data is stored in secure, access-controlled databases with regular backups</p>
            </div>
            <div class="text-center p-6 bg-purple-50 dark:bg-purple-900 dark:bg-opacity-20 rounded-lg">
                <div class="text-3xl mb-3">üë•</div>
                <h3 class="font-semibold mb-2">Access Control</h3>
                <p class="text-sm text-gray-600 dark:text-gray-300">Limited employee access with multi-factor authentication required</p>
            </div>
        </div>

        <div class="space-y-6">
            <div>
                <h3 class="text-xl font-semibold mb-4">Security Measures</h3>
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-6">
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-semibold mb-3">Technical Safeguards:</h4>
                            <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-300">
                                <li>‚Ä¢ SSL/TLS encryption for all data transmission</li>
                                <li>‚Ä¢ Encrypted password storage with bcrypt</li>
                                <li>‚Ä¢ Regular security audits and penetration testing</li>
                                <li>‚Ä¢ Automated monitoring for suspicious activity</li>
                                <li>‚Ä¢ Regular software updates and security patches</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold mb-3">Administrative Safeguards:</h4>
                            <ul class="space-y-2 text-sm text-gray-600 dark:text-gray-300">
                                <li>‚Ä¢ Employee background checks and training</li>
                                <li>‚Ä¢ Principle of least privilege access</li>
                                <li>‚Ä¢ Incident response procedures</li>
                                <li>‚Ä¢ Regular security awareness training</li>
                                <li>‚Ä¢ Data breach notification procedures</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-orange-50 dark:bg-orange-900 dark:bg-opacity-20 rounded-lg p-6 border-l-4 border-orange-500">
                <h3 class="text-lg font-semibold mb-3 text-orange-600">Your Role in Security</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-3">Help us keep your account secure by:</p>
                <ul class="list-disc list-inside space-y-1 text-gray-600 dark:text-gray-300">
                    <li>Using a strong, unique password</li>
                    <li>Keeping your login credentials confidential</li>
                    <li>Logging out from shared or public devices</li>
                    <li>Reporting suspicious activity immediately</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Section 5: Your Rights -->
    <section id="your-rights" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">5. Your Privacy Rights</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-xl font-semibold mb-4 text-blue-600">Data Access & Control</h3>
                <div class="space-y-4">
                    <div class="border-l-4 border-blue-500 pl-4">
                        <h4 class="font-semibold">Access Your Data</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300">View all personal data we have about you through your account dashboard</p>
                    </div>
                    <div class="border-l-4 border-green-500 pl-4">
                        <h4 class="font-semibold">Update Information</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300">Modify your profile, preferences, and account settings at any time</p>
                    </div>
                    <div class="border-l-4 border-purple-500 pl-4">
                        <h4 class="font-semibold">Export Your Data</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300">Download a copy of your typing statistics and progress data</p>
                    </div>
                    <div class="border-l-4 border-red-500 pl-4">
                        <h4 class="font-semibold">Delete Your Account</h4>
                        <p class="text-sm text-gray-600 dark:text-gray-300">Permanently remove your account and all associated data</p>
                    </div>
                </div>
            </div>
            
            <div>
                <h3 class="text-xl font-semibold mb-4 text-green-600">Communication Preferences</h3>
                <div class="bg-green-50 dark:bg-green-900 dark:bg-opacity-20 rounded-lg p-6">
                    <p class="text-gray-600 dark:text-gray-300 mb-4">You have full control over how we communicate with you:</p>
                    <ul class="space-y-3">
                        <li class="flex items-center">
                            <input type="checkbox" class="mr-3" checked disabled>
                            <span class="text-sm">Essential account notifications (cannot be disabled)</span>
                        </li>
                        <li class="flex items-center">
                            <input type="checkbox" class="mr-3">
                            <span class="text-sm">Progress reports and achievements</span>
                        </li>
                        <li class="flex items-center">
                            <input type="checkbox" class="mr-3">
                            <span class="text-sm">Typing tips and educational content</span>
                        </li>
                        <li class="flex items-center">
                            <input type="checkbox" class="mr-3">
                            <span class="text-sm">Platform updates and new features</span>
                        </li>
                    </ul>
                    <a href="/settings/notifications" class="inline-block mt-4 text-primary-600 hover:underline text-sm">
                        Manage your preferences ‚Üí
                    </a>
                </div>
            </div>
        </div>

        <div class="mt-8">
            <h3 class="text-xl font-semibold mb-4">Regional Privacy Rights</h3>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="border border-blue-200 dark:border-blue-700 rounded-lg p-6">
                    <h4 class="font-semibold mb-3 text-blue-600">üá™üá∫ GDPR (EU Residents)</h4>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                        <li>‚Ä¢ Right to access your personal data</li>
                        <li>‚Ä¢ Right to rectify inaccurate data</li>
                        <li>‚Ä¢ Right to erasure ("right to be forgotten")</li>
                        <li>‚Ä¢ Right to data portability</li>
                        <li>‚Ä¢ Right to object to processing</li>
                    </ul>
                </div>
                <div class="border border-purple-200 dark:border-purple-700 rounded-lg p-6">
                    <h4 class="font-semibold mb-3 text-purple-600">üá∫üá∏ CCPA (California Residents)</h4>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                        <li>‚Ä¢ Right to know what data is collected</li>
                        <li>‚Ä¢ Right to delete personal information</li>
                        <li>‚Ä¢ Right to opt-out of data sale (we don't sell data)</li>
                        <li>‚Ä¢ Right to non-discrimination</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 6: Cookies -->
    <section id="cookies" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">6. Cookies and Tracking Technologies</h2>
        
        <div class="space-y-6">
            <div>
                <h3 class="text-xl font-semibold mb-4">What Are Cookies?</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-4">
                    Cookies are small text files stored on your device that help us provide and improve our service. We use different types of cookies for various purposes.
                </p>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-lg font-semibold mb-3 text-green-600">Essential Cookies (Required)</h3>
                    <div class="bg-green-50 dark:bg-green-900 dark:bg-opacity-20 rounded-lg p-4">
                        <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2">
                            <li><strong>Authentication:</strong> Keep you logged in securely</li>
                            <li><strong>Security:</strong> Protect against malicious attacks</li>
                            <li><strong>Preferences:</strong> Remember your settings and theme</li>
                            <li><strong>Session:</strong> Maintain your typing test progress</li>
                        </ul>
                    </div>
                </div>
                
                <div>
                    <h3 class="text-lg font-semibold mb-3 text-blue-600">Analytics Cookies (Optional)</h3>
                    <div class="bg-blue-50 dark:bg-blue-900 dark:bg-opacity-20 rounded-lg p-4">
                        <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-2">
                            <li><strong>Usage Analytics:</strong> Understand how you use our platform</li>
                            <li><strong>Performance:</strong> Monitor site speed and errors</li>
                            <li><strong>A/B Testing:</strong> Test new features and improvements</li>
                            <li><strong>Conversion:</strong> Measure goal completions</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="text-xl font-semibold mb-4">Managing Cookies</h3>
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-6">
                    <p class="text-gray-600 dark:text-gray-300 mb-4">You can control cookies through:</p>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="text-center">
                            <div class="text-2xl mb-2">‚öôÔ∏è</div>
                            <h4 class="font-semibold mb-2">Browser Settings</h4>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Configure cookie preferences in your browser</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">üéõÔ∏è</div>
                            <h4 class="font-semibold mb-2">Our Cookie Settings</h4>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Manage preferences in your account</p>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl mb-2">üö´</div>
                            <h4 class="font-semibold mb-2">Opt-Out Tools</h4>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Use third-party opt-out services</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Section 7: Children's Privacy -->
    <section id="children" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">7. Children's Privacy</h2>
        
        <div class="bg-yellow-50 dark:bg-yellow-900 dark:bg-opacity-20 rounded-lg p-6 border-l-4 border-yellow-500">
            <h3 class="text-lg font-semibold mb-3 text-yellow-600">COPPA Compliance</h3>
            <p class="text-gray-600 dark:text-gray-300 mb-4">
                TypeSpeed Pro is designed to be safe for users of all ages, including children. We comply with the Children's Online Privacy Protection Act (COPPA) and take extra precautions when it comes to younger users.
            </p>
            
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-3">For Users Under 13:</h4>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                        <li>‚Ä¢ Parental consent required for account creation</li>
                        <li>‚Ä¢ Limited data collection (only necessary for functionality)</li>
                        <li>‚Ä¢ No behavioral advertising or tracking</li>
                        <li>‚Ä¢ Enhanced privacy protections</li>
                        <li>‚Ä¢ Parents can review and delete child's data</li>
                    </ul>
                </div>
                <div>
                    <h4 class="font-semibold mb-3">Educational Use:</h4>
                    <ul class="text-sm text-gray-600 dark:text-gray-300 space-y-1">
                        <li>‚Ä¢ Schools can create supervised accounts</li>
                        <li>‚Ä¢ Teachers have oversight capabilities</li>
                        <li>‚Ä¢ Student data remains within educational context</li>
                        <li>‚Ä¢ FERPA compliance for educational records</li>
                        <li>‚Ä¢ Bulk account management for educators</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="mt-6">
            <p class="text-gray-600 dark:text-gray-300">
                If you are a parent or guardian and believe your child under 13 has provided us with personal information without your consent, please contact us immediately at 
                <a href="mailto:privacy@typespeedpro.com" class="text-primary-600 hover:underline">privacy@typespeedpro.com</a> 
                and we will take steps to remove such information.
            </p>
        </div>
    </section>

    <!-- Section 8: Contact Us -->
    <section id="contact-us" class="bg-white dark:bg-gray-800 rounded-xl shadow-lg p-8">
        <h2 class="text-3xl font-bold mb-6">8. Contact Us About Privacy</h2>
        
        <div class="grid md:grid-cols-2 gap-8">
            <div>
                <h3 class="text-xl font-semibold mb-4">Privacy Questions or Concerns?</h3>
                <p class="text-gray-600 dark:text-gray-300 mb-6">
                    We're committed to protecting your privacy and are happy to answer any questions you may have about our practices.
                </p>
                
                <div class="space-y-4">
                    <div class="flex items-start">
                        <div class="text-2xl mr-4">üìß</div>
                        <div>
                            <h4 class="font-semibold">Email</h4>
                            <a href="mailto:privacy@typespeedpro.com" class="text-primary-600 hover:underline">privacy@typespeedpro.com</a>
                            <p class="text-xs text-gray-500 dark:text-gray-400">Response within 48 hours</p>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="text-2xl mr-4">üìÆ</div>
                        <div>
                            <h4 class="font-semibold">Mailing Address</h4>
                            <address class="text-gray-600 dark:text-gray-300 not-italic text-sm">
                                TypeSpeed Pro Privacy Team<br>
                                123 Tech Avenue, Suite 456<br>
                                San Francisco, CA 94102<br>
                                United States
                            </address>
                        </div>
                    </div>
                    
                    <div class="flex items-start">
                        <div class="text-2xl mr-4">üõ°Ô∏è</div>
                        <div>
                            <h4 class="font-semibold">Data Protection Officer</h4>
                            <a href="mailto:dpo@typespeedpro.com" class="text-primary-600 hover:underline">dpo@typespeedpro.com</a>
                            <p class="text-xs text-gray-500 dark:text-gray-400">For EU residents (GDPR inquiries)</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div>
                <h3 class="text-xl font-semibold mb-4">Quick Actions</h3>
                <div class="space-y-3">
                    <a href="/settings/privacy" class="block w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-4 rounded-lg text-center transition-colors">
                        Manage Privacy Settings
                    </a>
                    <a href="/data-export" class="block w-full bg-blue-500 hover:bg-blue-600 text-white font-medium py-3 px-4 rounded-lg text-center transition-colors">
                        Download My Data
                    </a>
                    <a href="/account/delete" class="block w-full bg-red-500 hover:bg-red-600 text-white font-medium py-3 px-4 rounded-lg text-center transition-colors">
                        Delete My Account
                    </a>
                </div>
                
                <div class="mt-6 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg">
                    <h4 class="font-semibold mb-2">Report a Data Breach</h4>
                    <p class="text-sm text-gray-600 dark:text-gray-300">
                        If you suspect a security incident, please contact us immediately at 
                        <a href="mailto:security@typespeedpro.com" class="text-red-600 hover:underline">security@typespeedpro.com</a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Updates and Changes -->
    <section class="bg-gradient-to-r from-primary-500 to-blue-600 rounded-xl text-white p-8">
        <h2 class="text-2xl font-bold mb-4">Privacy Policy Updates</h2>
        <p class="mb-4 opacity-90">
            We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors.
        </p>
        
        <div class="grid md:grid-cols-2 gap-6">
            <div>
                <h3 class="font-semibold mb-2">How We Notify You:</h3>
                <ul class="text-sm opacity-90 space-y-1">
                    <li>‚Ä¢ Email notification for significant changes</li>
                    <li>‚Ä¢ Banner notification on our website</li>
                    <li>‚Ä¢ Updated "Last Modified" date at the top</li>
                    <li>‚Ä¢ Account dashboard notifications</li>
                </ul>
            </div>
            <div>
                <h3 class="font-semibold mb-2">Version History:</h3>
                <ul class="text-sm opacity-90 space-y-1">
                    <li>‚Ä¢ v2.1 - January 15, 2024 (Current)</li>
                    <li>‚Ä¢ v2.0 - October 3, 2023</li>
                    <li>‚Ä¢ v1.5 - June 15, 2023</li>
                    <li>‚Ä¢ <a href="/privacy/history" class="underline hover:no-underline">View full history ‚Üí</a></li>
                </ul>
            </div>
        </div>
        
        <div class="mt-6 text-center">
            <a href="/privacy/subscribe" class="inline-block bg-white text-primary-600 font-semibold py-2 px-6 rounded-lg hover:bg-gray-100 transition-colors">
                Subscribe to Privacy Updates
            </a>
        </div>
    </section>
</div>

<style>
/* Smooth scrolling for anchor links */
html {
    scroll-behavior: smooth;
}

/* Table of contents styling */
.toc-link {
    transition: all 0.2s ease;
}

.toc-link:hover {
    transform: translateX(4px);
    color: #3b82f6;
}

/* Section highlighting when scrolled to */
section:target {
    animation: highlight 2s ease;
}

@keyframes highlight {
    0% { background-color: rgba(59, 130, 246, 0.1); }
    100% { background-color: transparent; }
}

/* Enhanced readability */
section p, section li {
    line-height: 1.7;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .grid.md\\:grid-cols-2, .grid.md\\:grid-cols-3 {
        grid-template-columns: 1fr;
        gap: 1rem;
    }
    
    h1 {
        font-size: 2.5rem;
    }
    
    h2 {
        font-size: 1.75rem;
    }
}

/* Print styles */
@media print {
    .bg-gradient-to-r {
        background: #f3f4f6 !important;
        color: #1f2937 !important;
    }
    
    a[href^="mailto:"]::after {
        content: " (" attr(href) ")";
    }
}

/* Accessibility improvements */
.focus\\:ring-2:focus {
    outline: 2px solid #3b82f6;
    outline-offset: 2px;
}

/* Interactive elements */
.checkbox-container {
    position: relative;
}

.checkbox-container input[type="checkbox"] {
    appearance: none;
    width: 1rem;
    height: 1rem;
    border: 2px solid #d1d5db;
    border-radius: 0.25rem;
    position: relative;
}

.checkbox-container input[type="checkbox"]:checked {
    background-color: #3b82f6;
    border-color: #3b82f6;
}

.checkbox-container input[type="checkbox"]:checked::after {
    content: '‚úì';
    position: absolute;
    top: -2px;
    left: 1px;
    color: white;
    font-size: 0.75rem;
    font-weight: bold;
}

/* Dark mode specific adjustments */
.dark .checkbox-container input[type="checkbox"] {
    border-color: #6b7280;
}

.dark .checkbox-container input[type="checkbox"]:checked {
    background-color: #60a5fa;
    border-color: #60a5fa;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Smooth scrolling for table of contents
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
                
                // Add visual highlight
                target.style.backgroundColor = 'rgba(59, 130, 246, 0.1)';
                setTimeout(() => {
                    target.style.backgroundColor = '';
                }, 2000);
            }
        });
    });
    
    // Track privacy policy engagement
    trackPrivacyEngagement();
    
    // Initialize cookie preference toggles
    initializeCookiePreferences();
    
    // Handle quick action buttons
    initializeQuickActions();
});

function trackPrivacyEngagement() {
    // Track time spent reading privacy policy
    const startTime = Date.now();
    
    window.addEventListener('beforeunload', function() {
        const timeSpent = Date.now() - startTime;
        if (timeSpent > 30000) { // If user spent more than 30 seconds
            // Send analytics event
            if (typeof gtag !== 'undefined') {
                gtag('event', 'privacy_policy_read', {
                    'event_category': 'engagement',
                    'value': Math.round(timeSpent / 1000)
                });
            }
        }
    });
    
    // Track section views
    const sections = document.querySelectorAll('section[id]');
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Track which sections users actually view
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'privacy_section_view', {
                        'event_category': 'engagement',
                        'event_label': entry.target.id
                    });
                }
            }
        });
    }, { threshold: 0.5 });
    
    sections.forEach(section => observer.observe(section));
}

function initializeCookiePreferences() {
    const cookieCheckboxes = document.querySelectorAll('input[type="checkbox"]:not([disabled])');
    
    cookieCheckboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
            const preference = this.nextElementSibling.textContent.trim();
            const enabled = this.checked;
            
            // Save preference to localStorage (in a real app, this would sync with the server)
            const preferences = JSON.parse(localStorage.getItem('cookiePreferences') || '{}');
            preferences[preference] = enabled;
            localStorage.setItem('cookiePreferences', JSON.stringify(preferences));
            
            // Show confirmation
            showNotification(`Preference updated: ${preference}`, 'success');
        });
    });
    
    // Load saved preferences
    loadCookiePreferences();
}

function loadCookiePreferences() {
    const preferences = JSON.parse(localStorage.getItem('cookiePreferences') || '{}');
    const cookieCheckboxes = document.querySelectorAll('input[type="checkbox"]:not([disabled])');
    
    cookieCheckboxes.forEach(checkbox => {
        const preference = checkbox.nextElementSibling.textContent.trim();
        if (preferences.hasOwnProperty(preference)) {
            checkbox.checked = preferences[preference];
        }
    });
}

function initializeQuickActions() {
    // Handle privacy settings link
    const privacySettingsLink = document.querySelector('a[href="/settings/privacy"]');
    if (privacySettingsLink) {
        privacySettingsLink.addEventListener('click', function(e) {
            // In a real app, this would navigate to the settings page
            // For demo purposes, we'll show a modal or notification
            e.preventDefault();
            showNotification('Privacy settings would open here in the full application', 'info');
        });
    }
    
    // Handle data export link
    const dataExportLink = document.querySelector('a[href="/data-export"]');
    if (dataExportLink) {
        dataExportLink.addEventListener('click', function(e) {
            e.preventDefault();
            handleDataExport();
        });
    }
    
    // Handle account deletion link
    const deleteAccountLink = document.querySelector('a[href="/account/delete"]');
    if (deleteAccountLink) {
        deleteAccountLink.addEventListener('click', function(e) {
            e.preventDefault();
            handleAccountDeletion();
        });
    }
}

function handleDataExport() {
    if (confirm('This will generate a file containing all your personal data. Continue?')) {
        // Show loading state
        showNotification('Preparing your data export...', 'info');
        
        // Simulate API call
        setTimeout(() => {
            showNotification('Data export would be generated and downloaded in the full application', 'success');
        }, 2000);
    }
}

function handleAccountDeletion() {
    const confirmed = confirm(
        'Are you sure you want to delete your account? This action cannot be undone and will permanently remove all your data.'
    );
    
    if (confirmed) {
        const doubleConfirm = confirm(
            'This is your final warning. Deleting your account will:\n\n' +
            '‚Ä¢ Remove all your typing test results\n' +
            '‚Ä¢ Delete your progress and achievements\n' +
            '‚Ä¢ Cancel any active subscriptions\n' +
            '‚Ä¢ Permanently delete your profile\n\n' +
            'Are you absolutely sure?'
        );
        
        if (doubleConfirm) {
            showNotification('Account deletion would be processed in the full application', 'warning');
        }
    }
}

function showNotification(message, type = 'info') {
    const notification = document.createElement('div');
    const colors = {
        success: 'bg-green-500',
        error: 'bg-red-500',
        warning: 'bg-yellow-500',
        info: 'bg-blue-500'
    };
    
    notification.className = `fixed top-4 right-4 ${colors[type]} text-white p-4 rounded-lg shadow-lg z-50 max-w-sm`;
    notification.textContent = message;
    
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.remove();
    }, 5000);
}

// Handle privacy policy subscription
function subscribeToPrivacyUpdates() {
    const email = prompt('Enter your email address to receive privacy policy updates:');
    if (email && email.includes('@')) {
        showNotification('Successfully subscribed to privacy updates!', 'success');
    } else if (email) {
        showNotification('Please enter a valid email address.', 'error');
    }
}

// Add event listener for subscription button
document.addEventListener('DOMContentLoaded', function() {
    const subscribeButton = document.querySelector('a[href="/privacy/subscribe"]');
    if (subscribeButton) {
        subscribeButton.addEventListener('click', function(e) {
            e.preventDefault();
            subscribeToPrivacyUpdates();
        });
    }
});

// Keyboard navigation improvements
document.addEventListener('keydown', function(e) {
    // Press 'h' to go to top
    if (e.key === 'h' && !e.ctrlKey && !e.metaKey) {
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Press 'c' to go to contact section
    if (e.key === 'c' && !e.ctrlKey && !e.metaKey) {
        const contactSection = document.getElementById('contact-us');
        if (contactSection) {
            contactSection.scrollIntoView({ behavior: 'smooth' });
        }
    }
});
</script>
{% endblock %}